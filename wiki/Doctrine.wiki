= Search = 

{{{
## return one
Doctrine::getTable('Member')->findOneByKeyword($key); 

## return list
Doctrine::getTable('Member')->findByKeyword($key);

## find by id
Doctrine::getTable('Member')->find(1); // id 为 1 的会员。

## 于codeinteger 整合 
//调用 $CI->uri->segment($u);
Doctrine::getTable('Member')->getBySegment(3); # /member/info/4 id为4的会员

//调用 $CI->uri->rsegment($u);
Doctrine::getTable('News')->getByRSegment(3);# 使用 URI Routing 情况下读取字段 /news-12.html
}}}

{{{
## query
$q = Doctrine_Query::create()
		->from('RankGroup')
		->where("member_id='{$member->id}'")
		->orderBy('id');
$q->fetchOne(); //return one
$q->execute();
$q->execute()->toArray(); //return array
$q->getSqlQuery();// return SQL
}}}

== 判断返回值 ==

{{{
## 在查询一个的情况下 例如 find, findOne, fetchOne, getBySegment 
## 如果不存在 则返回 false
$member = Doctrine::getTable('Member')->find(1);
if($member) {
	//do 
}
}}}


= add, edit, delete =

{{{
$member = Doctrine::getTable('Member')->find(1);

$member->save(); // add & edit
$member->delete();//delete

//sql delete
$q = Doctrine_Query::create()
		->delete('Member')
		->where('id = ?', $id);
$q->execute();
}}}

= 表的关联 =

 * 当不使用时，不会执行查询语句，并调用。当使用时 才会被调用
 * 使用Left Join 语句是会自动调用

一些经验：　使用起来，感觉单独使用hasOne可以很方便，hasMany 在单独使用的时候感觉比较别扭。 不过在leftJoin的情况下除外。

{{{
# $Rank->Member , 不调用时不会查询， 当调用时才会自动查询。
$Rank->Member->usename;

# left join 时调用 
$q = Doctrine_Query::create()
      ->from('Rank r')
      ->leftJoin('r.Member m');
}}}

{{{
$this->hasOne('Member', array(
		'local' => 'member_id',
		'foreign' => 'id'
	)
);

$this->hasMany('Email', array(
		'local' => 'id',
		'foreign' => 'user_id'
	)
);
}}}